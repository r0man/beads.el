{"id":"beads.el-0b6f","content_hash":"95e512b73441f3b1b700fdfec98c90ab7848abd8b4dc23b884950bda276af4e1","title":"Update issue ID patterns to support hash-based IDs","description":"Update all regex patterns that match issue IDs to support the new hash-based format:\n- Old format: bd-123 (PROJECT-NUMBER)\n- New format: bd-a1b2, bd-f14c3, bd-3e7a5b (PROJECT-HASH)\n\nFiles to update:\n- lisp/beads-eldoc.el: beads-eldoc-issue-pattern\n- lisp/beads-show.el: beads-show--issue-reference-regex\n- Any other pattern matching for issue IDs\n\nNew pattern should match: \\b([a-zA-Z][a-zA-Z0-9._-]*-[0-9a-f]+)\\b\n\nThis is critical as without it, issue references won't be recognized in buffers.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-04T08:09:51.103510812Z","updated_at":"2025-11-04T08:19:46.256859801Z","closed_at":"2025-11-04T08:19:46.256859801Z","dependencies":[{"issue_id":"beads.el-0b6f","depends_on_id":"beads.el-7bea","type":"parent-child","created_at":"2025-11-04T08:10:06.192469722Z","created_by":"daemon"}]}
{"id":"beads.el-1375","content_hash":"f5b9a00a7fcfd6f73e7020bc7af4c423c1b299babe5499bd20840a177de67910","title":"Update tests to use hash-based ID format","description":"Update all test fixtures and expectations to use hash-based IDs:\n\nTasks:\n1. Replace sequential IDs (bd-1, bd-123) with hash format (bd-a1b2, bd-f14c)\n2. Update pattern matching tests\n3. Update completion tests\n4. Add tests for substring ID matching\n5. Test eldoc with hash IDs\n\nFiles to update:\n- test/beads-*-test.el files\n- All test fixtures\n\nAll 921 tests must pass after updates.","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-04T08:09:51.550509763Z","updated_at":"2025-11-04T08:09:51.550509763Z","dependencies":[{"issue_id":"beads.el-1375","depends_on_id":"beads.el-7bea","type":"parent-child","created_at":"2025-11-04T08:10:06.61274565Z","created_by":"daemon"}]}
{"id":"beads.el-1426","content_hash":"578eb73775aba86cffe66b35eb363200bd20414c92da631d8efe7d2c5b185860","title":"Implement beads-info command","description":"Add support for 'bd info' command that shows database and daemon information.\n\nImplementation:\n- Create beads-info function\n- Display: database path, schema version, issue counts, daemon status\n- Support --schema flag to show schema details\n- Use bd info --json for structured output\n\nReference: beads-reference/cmd/bd/info.go","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-04T08:09:51.285982457Z","updated_at":"2025-11-04T08:09:51.285982457Z","dependencies":[{"issue_id":"beads.el-1426","depends_on_id":"beads.el-7bea","type":"parent-child","created_at":"2025-11-04T08:10:06.369458052Z","created_by":"daemon"}]}
{"id":"beads.el-33bc","content_hash":"c5aad83c14b30404a03101130cedf5c1fdedf134c5cfb2b2436fb2f8afe2c7b3","title":"Integration testing with bd 0.21.5 CLI","description":"Comprehensive integration testing with bd 0.21.5:\n\nTasks:\n1. Test all existing commands work with bd 0.21.5\n2. Test new commands function correctly\n3. Test hash ID recognition in eldoc\n4. Test hash ID completion\n5. Test substring ID matching\n6. Verify JSON parsing handles any structure changes\n7. Test BEADS_DIR environment variable\n8. Test with migrated database (sequential -\u003e hash IDs)\n9. Run all quality checks (test, lint, compile)\n\nCritical before considering work complete.","status":"open","priority":0,"issue_type":"task","created_at":"2025-11-04T08:09:51.616247689Z","updated_at":"2025-11-04T08:09:51.616247689Z","dependencies":[{"issue_id":"beads.el-33bc","depends_on_id":"beads.el-7bea","type":"parent-child","created_at":"2025-11-04T08:10:06.671796606Z","created_by":"daemon"}]}
{"id":"beads.el-3e06","content_hash":"ed98d09fa0681c8c4c351cd292b53338f991c85108c6b7555cec04525e0a7e8c","title":"Implement beads-doctor health check command","description":"Add support for 'bd doctor' command that checks installation health.\n\nImplementation:\n- Run bd doctor --json\n- Display health check results in formatted buffer\n- Show: database integrity, git hooks status, daemon status, version checks\n- Color-code issues (errors in red, warnings in yellow, OK in green)\n\nReference: beads-reference/cmd/bd/doctor.go","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-04T08:09:51.350417869Z","updated_at":"2025-11-04T08:09:51.350417869Z","dependencies":[{"issue_id":"beads.el-3e06","depends_on_id":"beads.el-7bea","type":"parent-child","created_at":"2025-11-04T08:10:06.433339812Z","created_by":"daemon"}]}
{"id":"beads.el-5049","content_hash":"77e1a3b3a99b49d17bf10a4e9ba4fde5847a9482658356c7acf662c7ea9f8aa7","title":"Update existing commands to support new CLI flags","description":"Update existing command implementations to support new global flags:\n\nNew flags in bd 0.21.5:\n- --no-auto-flush: Disable automatic JSONL sync after CRUD\n- --no-auto-import: Disable automatic JSONL import check\n- --no-daemon: Force direct storage mode, bypass daemon\n- --no-db: Use no-db mode (load from JSONL, no SQLite)\n- --sandbox: Sandbox mode (disables daemon and auto-sync)\n\nAdd these as optional flags in transient menus where appropriate.\nFiles to update: All transient command files (beads-create.el, beads-update.el, etc.)","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-04T08:09:51.449318982Z","updated_at":"2025-11-04T08:09:51.449318982Z","dependencies":[{"issue_id":"beads.el-5049","depends_on_id":"beads.el-7bea","type":"parent-child","created_at":"2025-11-04T08:10:06.522275913Z","created_by":"daemon"}]}
{"id":"beads.el-5a06","content_hash":"038eb3e7dc6a5add0c81a6618eda9b7b4fb73a62926ecbfb721d577ed55b6ead","title":"Implement beads-daemons for multi-daemon management","description":"Add support for 'bd daemons' command that manages multiple bd daemons.\n\nCreate transient menu for:\n- bd daemons list - Show all running daemons\n- bd daemons health - Check daemon health and version mismatches\n- bd daemons logs \u003cworkspace\u003e - View daemon logs\n- bd daemons killall - Stop all daemons\n- bd daemons restart - Restart specific daemon\n\nReference: beads-reference/cmd/bd/daemons.go","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-04T08:09:51.223033418Z","updated_at":"2025-11-04T08:09:51.223033418Z","dependencies":[{"issue_id":"beads.el-5a06","depends_on_id":"beads.el-7bea","type":"parent-child","created_at":"2025-11-04T08:10:06.306011509Z","created_by":"daemon"}]}
{"id":"beads.el-7040","content_hash":"c6243a7094f1401f8f69d55813d55dfda9b92cbd7dea18798ecd6cbb142db922","title":"Implement beads-migrate transient menu","description":"Add support for 'bd migrate' command for database schema upgrades.\n\nCreate transient menu for:\n- bd migrate --inspect --json - Show migration plan\n- bd migrate --dry-run - Preview migration\n- bd migrate - Execute migration\n- Integration with beads-info to show current schema version\n\nThis is important for users upgrading from older versions.\n\nReference: beads-reference/cmd/bd/migrate.go","status":"open","priority":1,"issue_type":"feature","created_at":"2025-11-04T08:09:51.318166512Z","updated_at":"2025-11-04T08:09:51.318166512Z","dependencies":[{"issue_id":"beads.el-7040","depends_on_id":"beads.el-7bea","type":"parent-child","created_at":"2025-11-04T08:10:06.402489359Z","created_by":"daemon"}]}
{"id":"beads.el-7bea","content_hash":"2291c733a8df773c793da153f7e6650f2587624ddd05f03bd52e941368fca57a","title":"Update beads.el for beads 0.21.5 compatibility","description":"Update beads.el to be fully compatible with beads 0.21.5 (dev). This includes supporting hash-based IDs, new commands, updated JSON structures, and removed commands.\n\nMajor changes in beads 0.21.5:\n- Hash-based IDs (bd-a1b2 format instead of bd-123)\n- Progressive hash length (4-6 chars based on database size)\n- Substring ID matching support\n- New commands: config, daemons, doctor, duplicates, edit, info, migrate, onboard, rename-prefix, repair-deps, restore, status, stale, validate, detect-pollution\n- Removed commands: renumber, repos\n- JSON double-encoding fixes\n- Protected branch workflow support\n- external_ref field changes\n- New flags: --no-auto-flush, --no-auto-import, --no-daemon, --no-db, --sandbox\n- BEADS_DIR environment variable support\n\nThis epic tracks all the work needed to make beads.el compatible with these changes.\n\n## Acceptance Criteria\n\nThis epic is complete when:\n1. All tests pass (921/921)\n2. Lint passes with zero warnings\n3. Byte compilation passes with zero warnings\n4. All sub-issues are closed","status":"in_progress","priority":0,"issue_type":"epic","created_at":"2025-11-04T08:08:46.518450027Z","updated_at":"2025-11-04T08:12:31.567874275Z"}
{"id":"beads.el-967d","content_hash":"c8a8d04b959e3bf8aa4b46de05b5a900d1745c91e11ed853ba88133e8ab078f4","title":"Implement beads-status command","description":"Add support for new 'bd status' command that shows database overview.\n\nImplementation:\n- Create beads-status function in lisp/beads-stats.el or new file\n- Display issue counts by status, type, priority\n- Show database statistics in formatted buffer\n- Use bd status --json for data\n\nReference: beads-reference/cmd/bd/status.go","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-04T08:09:51.253512098Z","updated_at":"2025-11-04T08:09:51.253512098Z","dependencies":[{"issue_id":"beads.el-967d","depends_on_id":"beads.el-7bea","type":"parent-child","created_at":"2025-11-04T08:10:06.334996485Z","created_by":"daemon"}]}
{"id":"beads.el-aee8","content_hash":"9aeabfc2e74868e50f95e3e916da7cb1b446b3086651d8b77a06b1bf16d72107","title":"Add support for substring ID matching","description":"bd 0.21.5 supports substring matching for issue IDs. For example, 'bd show abc' will match any ID containing \"abc\" (e.g., bd-abc123).\n\nUpdate beads.el completion and ID resolution to:\n1. Support partial ID input in completion prompts\n2. Handle ambiguous matches by showing candidates\n3. Update beads--issue-completion-table if needed\n4. Test with actual bd CLI behavior\n\nThis improves UX when working with longer hash-based IDs.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-04T08:09:51.150008155Z","updated_at":"2025-11-04T08:29:00.603919115Z","closed_at":"2025-11-04T08:29:00.603919115Z","dependencies":[{"issue_id":"beads.el-aee8","depends_on_id":"beads.el-7bea","type":"parent-child","created_at":"2025-11-04T08:10:06.235524911Z","created_by":"daemon"}]}
{"id":"beads.el-b8ad","content_hash":"bdfdef25dd6ef4b363ad9504c1256b93ad5d1ca75fb85cbd5515075986cbda54","title":"Add BEADS_DIR environment variable support","description":"bd 0.21.5 supports BEADS_DIR environment variable for custom database location.\n\nUpdate beads.el to:\n1. Respect BEADS_DIR when discovering database path\n2. Add defcustom beads-directory to override database location\n3. Update beads--find-project-root to check BEADS_DIR first\n4. Update documentation\n\nThis is needed for protected branch workflows.\n\nReference: beads-reference docs on BEADS_DIR","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-04T08:09:51.482722583Z","updated_at":"2025-11-04T08:09:51.482722583Z","dependencies":[{"issue_id":"beads.el-b8ad","depends_on_id":"beads.el-7bea","type":"parent-child","created_at":"2025-11-04T08:10:06.553135013Z","created_by":"daemon"}]}
{"id":"beads.el-bc82","content_hash":"29dff74338f485396106164f7655973fda05aa2e3eba7351de0438e6023152e7","title":"Implement remaining new bd commands","description":"Implement transient menus for remaining new commands:\n\nLow priority commands:\n- bd onboard - Display agent configuration instructions\n- bd stale - Show stale issues (not updated recently)  \n- bd duplicates - Find and merge duplicate issues\n- bd rename-prefix - Rename issue prefix for all issues\n- bd repair-deps - Fix orphaned dependency references\n- bd restore - Restore compacted issue history from git\n- bd detect-pollution - Detect test issues in production DB\n- bd edit - Edit issue field in $EDITOR\n\nThese are nice-to-have but not critical for core functionality.\n\nReference: beads-reference/cmd/bd/ for each command","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-04T08:09:51.417504953Z","updated_at":"2025-11-04T08:09:51.417504953Z","dependencies":[{"issue_id":"beads.el-bc82","depends_on_id":"beads.el-7bea","type":"parent-child","created_at":"2025-11-04T08:10:06.488984374Z","created_by":"daemon"}]}
{"id":"beads.el-bf8f","content_hash":"b0cb323670a1cc2d928a3b9a52226efaf31bb6c214da1f6a1a2b0e8f5dec8e11","title":"Update documentation for beads 0.21.5 changes","description":"Update all documentation to reflect beads 0.21.5 changes:\n\nFiles to update:\n1. README.md - Update examples with hash IDs, document new commands\n2. CLAUDE.md - Update workflow examples, new command references\n3. MAGIT_PATTERNS.md - Update if any patterns changed\n4. Docstrings - Update function docstrings with hash ID examples\n\nEnsure all examples use hash-based ID format (bd-a1b2) not sequential (bd-123).","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-04T08:09:51.582757001Z","updated_at":"2025-11-04T08:09:51.582757001Z","dependencies":[{"issue_id":"beads.el-bf8f","depends_on_id":"beads.el-7bea","type":"parent-child","created_at":"2025-11-04T08:10:06.641487544Z","created_by":"daemon"}]}
{"id":"beads.el-czu","content_hash":"816f2e66b01ca6dc974cc5f5b64a1a908eb35ff80ce5d9a5b79da24d67de670b","title":"Add support for hierarchical child IDs (dot notation)","description":"Update regex patterns to support bd 0.21.5 hierarchical child IDs using dot notation:\n- bd-a3f8e9.1 (child)\n- bd-a3f8e9.3.1 (grandchild)\n- bd-123.1 (sequential with child)\n\nChanged pattern from:\n  [a-zA-Z][a-zA-Z0-9._-]*-[0-9a-fA-F]+\n\nTo:\n  [a-zA-Z][a-zA-Z0-9._-]*-[0-9a-fA-F]+(?:\\.[0-9]+)*\n\nThis matches the hierarchical ID format documented in bd 0.21.5 README.\n\nFiles updated:\n- beads-eldoc.el: Pattern and all docstrings\n- beads-show.el: Pattern, next/previous reference functions, all docstrings\n\nAll quality checks pass.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-04T14:34:42.26443354+01:00","updated_at":"2025-11-04T14:35:07.847968058+01:00","closed_at":"2025-11-04T14:35:07.847968058+01:00","dependencies":[{"issue_id":"beads.el-czu","depends_on_id":"beads.el-7bea","type":"parent-child","created_at":"2025-11-04T14:35:07.742247639+01:00","created_by":"daemon"}]}
{"id":"beads.el-ea5f","content_hash":"b3e0e856a12449e627103903090975b126b81bb51016f3a28a37b86efa00e0a2","title":"Remove references to obsolete bd commands","description":"bd 0.21.5 removed several commands that need to be removed from beads.el:\n\nRemoved commands:\n- bd renumber (replaced by hash IDs)\n- bd repos (removed)\n\nTasks:\n1. Remove any transient menu entries for these commands\n2. Remove any documentation references\n3. Update tests that reference these commands\n4. Check CLAUDE.md and README.md for references\n\nThese commands will error if called with bd 0.21.5.","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-04T08:09:51.518218666Z","updated_at":"2025-11-04T08:09:51.518218666Z","dependencies":[{"issue_id":"beads.el-ea5f","depends_on_id":"beads.el-7bea","type":"parent-child","created_at":"2025-11-04T08:10:06.583084068Z","created_by":"daemon"}]}
{"id":"beads.el-ec40","content_hash":"4abb7adbdc617e8894ec175b928faa84191ddc5624c46b5ae2c55612e5c1282d","title":"Implement beads-validate database validation command","description":"Add support for 'bd validate' command for comprehensive database health checks.\n\nImplementation:\n- Run bd validate --json\n- Show validation results with errors/warnings\n- Display: foreign key violations, orphaned dependencies, duplicate IDs, etc.\n- Interactive fixing options if validation finds issues\n\nReference: beads-reference/cmd/bd/validate.go","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-04T08:09:51.38599423Z","updated_at":"2025-11-04T08:09:51.38599423Z","dependencies":[{"issue_id":"beads.el-ec40","depends_on_id":"beads.el-7bea","type":"parent-child","created_at":"2025-11-04T08:10:06.462152833Z","created_by":"daemon"}]}
{"id":"beads.el-f32c","content_hash":"25b4fec44dc800b8c52fadeccba0d0a95b0e79163c7c6a133b9fc9e56822084c","title":"Implement beads-config transient menu","description":"Add support for new 'bd config' command that manages configuration settings.\n\nCreate new file: lisp/beads-config.el with transient menu for:\n- Viewing current config (bd config --json)\n- Setting config values (bd config set key value)\n- Listing all config options\n- Resetting to defaults\n\nReference: beads-reference/cmd/bd/config.go for command structure","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-04T08:09:51.182351257Z","updated_at":"2025-11-04T08:09:51.182351257Z","dependencies":[{"issue_id":"beads.el-f32c","depends_on_id":"beads.el-7bea","type":"parent-child","created_at":"2025-11-04T08:10:06.274530205Z","created_by":"daemon"}]}
